import{c as p,d as u}from"/build/_shared/chunk-UJTUMZYS.js";import{h as v}from"/build/_shared/chunk-7EZOGZHQ.js";import{a as f}from"/build/_shared/chunk-6VOCUJW3.js";import{b as r}from"/build/_shared/chunk-DOHUNQ66.js";import"/build/_shared/chunk-VYNOGOUD.js";import{g as c}from"/build/_shared/chunk-5MKVG6TO.js";import"/build/_shared/chunk-XO4VTVTY.js";import"/build/_shared/chunk-444ASF66.js";import{a as b,c as m,m as d}from"/build/_shared/chunk-UYURHTCR.js";import{e as i}from"/build/_shared/chunk-ADMCF34Z.js";var o=i(b(),1);var a=i(d(),1);function y(){let{user:e,updateProfile:g}=c(),n=m(),[s,l]=(0,o.useState)(!1);(0,o.useEffect)(()=>{e?.isOnboarded&&n("/dashboard")},[e,n]);let x=async h=>{if(!s){l(!0);try{console.log("Saving profile..."),await g({avatarConfig:h,isOnboarded:!0}),console.log("Profile saved! Redirecting...");let t=new Audio("/success.mp3");t.volume=.5,t.play().catch(()=>{}),f({particleCount:150,spread:70,origin:{y:.6},colors:["#a855f7","#ec4899","#3b82f6"]}),setTimeout(()=>{window.location.href="/dashboard"},1e3)}catch(t){console.error("Failed to save avatar:",t),alert(`Save failed: ${t.message||"Unknown error"}`),l(!1)}}};return(0,a.jsx)(u,{children:(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 py-10 px-4",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto space-y-8",children:[(0,a.jsxs)(r.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center space-y-4",children:[(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)(v,{className:"h-16 w-16"})}),(0,a.jsxs)("h1",{className:"text-4xl md:text-5xl font-extrabold text-gray-900 dark:text-white font-pixelify",children:["Welcome, ",e?.displayName||"Coder","!"]}),(0,a.jsx)("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:"Let's design your character for the arena."})]}),(0,a.jsx)(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:(0,a.jsx)(p,{user:e,initialConfig:e?.avatarConfig,onSave:x,saveLabel:s?"Finalizing...":"Start Adventure"})})]})})})}export{y as default};
