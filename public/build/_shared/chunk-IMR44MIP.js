import{a as ce}from"/build/_shared/chunk-VYNOGOUD.js";import{b as re,c as Ge,d as Ue,e as Y,f as Be,g as zt,h as jt,i as me,j as te,l as ve,m as Ce,n as We,o as Ke,p as He,q as Xe,r as Re,t as Yt,u as qt,v as $t}from"/build/_shared/chunk-I2HGCWKY.js";import{a as N,b as pe}from"/build/_shared/chunk-P4C7VRR7.js";import{e as ee,g as Bt}from"/build/_shared/chunk-5MKVG6TO.js";import{Ka as ke,La as _,Ma as Xt,Na as Vt,Pa as j,p as Wt,r as Kt,t as Ht}from"/build/_shared/chunk-444ASF66.js";import{a as W,m as Q}from"/build/_shared/chunk-UYURHTCR.js";import{e as T}from"/build/_shared/chunk-ADMCF34Z.js";var vn=T(W(),1);var P=T(W(),1);var ka=!!(typeof window<"u"&&window.document&&window.document.createElement);function $(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(e?.(r),n===!1||!r.defaultPrevented)return t?.(r)}}var I=T(W(),1);var rt=T(Q(),1),Go="DismissableLayer",ot="dismissableLayer.update",Uo="dismissableLayer.pointerDownOutside",Bo="dismissableLayer.focusOutside",Zt,Qt=I.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),at=I.forwardRef((e,t)=>{let{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:o,onPointerDownOutside:r,onFocusOutside:a,onInteractOutside:u,onDismiss:d,...l}=e,i=I.useContext(Qt),[s,c]=I.useState(null),f=s?.ownerDocument??globalThis?.document,[,p]=I.useState({}),m=_(t,R=>c(R)),w=Array.from(i.layers),[g]=[...i.layersWithOutsidePointerEventsDisabled].slice(-1),M=w.indexOf(g),y=s?w.indexOf(s):-1,C=i.layersWithOutsidePointerEventsDisabled.size>0,D=y>=M,G=Ho(R=>{let x=R.target,z=[...i.branches].some(U=>U.contains(x));!D||z||(r?.(R),u?.(R),R.defaultPrevented||d?.())},f),X=Xo(R=>{let x=R.target;[...i.branches].some(U=>U.contains(x))||(a?.(R),u?.(R),R.defaultPrevented||d?.())},f);return Be(R=>{y===i.layers.size-1&&(o?.(R),!R.defaultPrevented&&d&&(R.preventDefault(),d()))},f),I.useEffect(()=>{if(s)return n&&(i.layersWithOutsidePointerEventsDisabled.size===0&&(Zt=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),i.layersWithOutsidePointerEventsDisabled.add(s)),i.layers.add(s),Jt(),()=>{n&&i.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=Zt)}},[s,f,n,i]),I.useEffect(()=>()=>{s&&(i.layers.delete(s),i.layersWithOutsidePointerEventsDisabled.delete(s),Jt())},[s,i]),I.useEffect(()=>{let R=()=>p({});return document.addEventListener(ot,R),()=>document.removeEventListener(ot,R)},[]),(0,rt.jsx)(N.div,{...l,ref:m,style:{pointerEvents:C?D?"auto":"none":void 0,...e.style},onFocusCapture:$(e.onFocusCapture,X.onFocusCapture),onBlurCapture:$(e.onBlurCapture,X.onBlurCapture),onPointerDownCapture:$(e.onPointerDownCapture,G.onPointerDownCapture)})});at.displayName=Go;var Wo="DismissableLayerBranch",Ko=I.forwardRef((e,t)=>{let n=I.useContext(Qt),o=I.useRef(null),r=_(t,o);return I.useEffect(()=>{let a=o.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),(0,rt.jsx)(N.div,{...e,ref:r})});Ko.displayName=Wo;function Ho(e,t=globalThis?.document){let n=Y(e),o=I.useRef(!1),r=I.useRef(()=>{});return I.useEffect(()=>{let a=d=>{if(d.target&&!o.current){let i=function(){en(Uo,n,s,{discrete:!0})};var l=i;let s={originalEvent:d};d.pointerType==="touch"?(t.removeEventListener("click",r.current),r.current=i,t.addEventListener("click",r.current,{once:!0})):i()}else t.removeEventListener("click",r.current);o.current=!1},u=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(u),t.removeEventListener("pointerdown",a),t.removeEventListener("click",r.current)}},[t,n]),{onPointerDownCapture:()=>o.current=!0}}function Xo(e,t=globalThis?.document){let n=Y(e),o=I.useRef(!1);return I.useEffect(()=>{let r=a=>{a.target&&!o.current&&en(Bo,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",r),()=>t.removeEventListener("focusin",r)},[t,n]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function Jt(){let e=new CustomEvent(ot);document.dispatchEvent(e)}function en(e,t,n,{discrete:o}){let r=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&r.addEventListener(e,t,{once:!0}),o?pe(r,a):r.dispatchEvent(a)}var K=T(W(),1);var tn=T(W(),1);function Vo(e,t){return tn.useReducer((n,o)=>t[n][o]??n,e)}var ze=e=>{let{present:t,children:n}=e,o=zo(t),r=typeof n=="function"?n({present:o.isPresent}):K.Children.only(n),a=_(o.ref,jo(r));return typeof n=="function"||o.isPresent?K.cloneElement(r,{ref:a}):null};ze.displayName="Presence";function zo(e){let[t,n]=K.useState(),o=K.useRef(null),r=K.useRef(e),a=K.useRef("none"),u=e?"mounted":"unmounted",[d,l]=Vo(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return K.useEffect(()=>{let i=Ve(o.current);a.current=d==="mounted"?i:"none"},[d]),me(()=>{let i=o.current,s=r.current;if(s!==e){let f=a.current,p=Ve(i);e?l("MOUNT"):p==="none"||i?.display==="none"?l("UNMOUNT"):l(s&&f!==p?"ANIMATION_OUT":"UNMOUNT"),r.current=e}},[e,l]),me(()=>{if(t){let i,s=t.ownerDocument.defaultView??window,c=p=>{let w=Ve(o.current).includes(CSS.escape(p.animationName));if(p.target===t&&w&&(l("ANIMATION_END"),!r.current)){let g=t.style.animationFillMode;t.style.animationFillMode="forwards",i=s.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=g)})}},f=p=>{p.target===t&&(a.current=Ve(o.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",c),t.addEventListener("animationend",c),()=>{s.clearTimeout(i),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",c),t.removeEventListener("animationend",c)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:K.useCallback(i=>{o.current=i?getComputedStyle(i):null,n(i)},[])}}function Ve(e){return e?.animationName||"none"}function jo(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var O=T(Q(),1),[je,ii]=re("Tooltip",[ve]),Ye=ve(),nn="TooltipProvider",qo=700,it="tooltip.open",[$o,ct]=je(nn),on=e=>{let{__scopeTooltip:t,delayDuration:n=qo,skipDelayDuration:o=300,disableHoverableContent:r=!1,children:a}=e,u=P.useRef(!0),d=P.useRef(!1),l=P.useRef(0);return P.useEffect(()=>{let i=l.current;return()=>window.clearTimeout(i)},[]),(0,O.jsx)($o,{scope:t,isOpenDelayedRef:u,delayDuration:n,onOpen:P.useCallback(()=>{window.clearTimeout(l.current),u.current=!1},[]),onClose:P.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>u.current=!0,o)},[o]),isPointerInTransitRef:d,onPointerInTransitChange:P.useCallback(i=>{d.current=i},[]),disableHoverableContent:r,children:a})};on.displayName=nn;var be="Tooltip",[Zo,De]=je(be),rn=e=>{let{__scopeTooltip:t,children:n,open:o,defaultOpen:r,onOpenChange:a,disableHoverableContent:u,delayDuration:d}=e,l=ct(be,e.__scopeTooltip),i=Ye(t),[s,c]=P.useState(null),f=te(),p=P.useRef(0),m=u??l.disableHoverableContent,w=d??l.delayDuration,g=P.useRef(!1),[M,y]=Re({prop:o,defaultProp:r??!1,onChange:R=>{R?(l.onOpen(),document.dispatchEvent(new CustomEvent(it))):l.onClose(),a?.(R)},caller:be}),C=P.useMemo(()=>M?g.current?"delayed-open":"instant-open":"closed",[M]),D=P.useCallback(()=>{window.clearTimeout(p.current),p.current=0,g.current=!1,y(!0)},[y]),G=P.useCallback(()=>{window.clearTimeout(p.current),p.current=0,y(!1)},[y]),X=P.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{g.current=!0,y(!0),p.current=0},w)},[w,y]);return P.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),(0,O.jsx)(Ce,{...i,children:(0,O.jsx)(Zo,{scope:t,contentId:f,open:M,stateAttribute:C,trigger:s,onTriggerChange:c,onTriggerEnter:P.useCallback(()=>{l.isOpenDelayedRef.current?X():D()},[l.isOpenDelayedRef,X,D]),onTriggerLeave:P.useCallback(()=>{m?G():(window.clearTimeout(p.current),p.current=0)},[G,m]),onOpen:D,onClose:G,disableHoverableContent:m,children:n})})};rn.displayName=be;var st="TooltipTrigger",an=P.forwardRef((e,t)=>{let{__scopeTooltip:n,...o}=e,r=De(st,n),a=ct(st,n),u=Ye(n),d=P.useRef(null),l=_(t,d,r.onTriggerChange),i=P.useRef(!1),s=P.useRef(!1),c=P.useCallback(()=>i.current=!1,[]);return P.useEffect(()=>()=>document.removeEventListener("pointerup",c),[c]),(0,O.jsx)(We,{asChild:!0,...u,children:(0,O.jsx)(N.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...o,ref:l,onPointerMove:$(e.onPointerMove,f=>{f.pointerType!=="touch"&&!s.current&&!a.isPointerInTransitRef.current&&(r.onTriggerEnter(),s.current=!0)}),onPointerLeave:$(e.onPointerLeave,()=>{r.onTriggerLeave(),s.current=!1}),onPointerDown:$(e.onPointerDown,()=>{r.open&&r.onClose(),i.current=!0,document.addEventListener("pointerup",c,{once:!0})}),onFocus:$(e.onFocus,()=>{i.current||r.onOpen()}),onBlur:$(e.onBlur,r.onClose),onClick:$(e.onClick,r.onClose)})})});an.displayName=st;var ut="TooltipPortal",[Jo,Qo]=je(ut,{forceMount:void 0}),sn=e=>{let{__scopeTooltip:t,forceMount:n,children:o,container:r}=e,a=De(ut,t);return(0,O.jsx)(Jo,{scope:t,forceMount:n,children:(0,O.jsx)(ze,{present:n||a.open,children:(0,O.jsx)(Xe,{asChild:!0,container:r,children:o})})})};sn.displayName=ut;var we="TooltipContent",cn=P.forwardRef((e,t)=>{let n=Qo(we,e.__scopeTooltip),{forceMount:o=n.forceMount,side:r="top",...a}=e,u=De(we,e.__scopeTooltip);return(0,O.jsx)(ze,{present:o||u.open,children:u.disableHoverableContent?(0,O.jsx)(un,{side:r,...a,ref:t}):(0,O.jsx)(er,{side:r,...a,ref:t})})}),er=P.forwardRef((e,t)=>{let n=De(we,e.__scopeTooltip),o=ct(we,e.__scopeTooltip),r=P.useRef(null),a=_(t,r),[u,d]=P.useState(null),{trigger:l,onClose:i}=n,s=r.current,{onPointerInTransitChange:c}=o,f=P.useCallback(()=>{d(null),c(!1)},[c]),p=P.useCallback((m,w)=>{let g=m.currentTarget,M={x:m.clientX,y:m.clientY},y=ar(M,g.getBoundingClientRect()),C=ir(M,y),D=sr(w.getBoundingClientRect()),G=ur([...C,...D]);d(G),c(!0)},[c]);return P.useEffect(()=>()=>f(),[f]),P.useEffect(()=>{if(l&&s){let m=g=>p(g,s),w=g=>p(g,l);return l.addEventListener("pointerleave",m),s.addEventListener("pointerleave",w),()=>{l.removeEventListener("pointerleave",m),s.removeEventListener("pointerleave",w)}}},[l,s,p,f]),P.useEffect(()=>{if(u){let m=w=>{let g=w.target,M={x:w.clientX,y:w.clientY},y=l?.contains(g)||s?.contains(g),C=!cr(M,u);y?f():C&&(f(),i())};return document.addEventListener("pointermove",m),()=>document.removeEventListener("pointermove",m)}},[l,s,u,i,f]),(0,O.jsx)(un,{...e,ref:a})}),[tr,nr]=je(be,{isInside:!1}),or=Vt("TooltipContent"),un=P.forwardRef((e,t)=>{let{__scopeTooltip:n,children:o,"aria-label":r,onEscapeKeyDown:a,onPointerDownOutside:u,...d}=e,l=De(we,n),i=Ye(n),{onClose:s}=l;return P.useEffect(()=>(document.addEventListener(it,s),()=>document.removeEventListener(it,s)),[s]),P.useEffect(()=>{if(l.trigger){let c=f=>{f.target?.contains(l.trigger)&&s()};return window.addEventListener("scroll",c,{capture:!0}),()=>window.removeEventListener("scroll",c,{capture:!0})}},[l.trigger,s]),(0,O.jsx)(at,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:u,onFocusOutside:c=>c.preventDefault(),onDismiss:s,children:(0,O.jsxs)(Ke,{"data-state":l.stateAttribute,...i,...d,ref:t,style:{...d.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[(0,O.jsx)(or,{children:o}),(0,O.jsx)(tr,{scope:n,isInside:!0,children:(0,O.jsx)(Yt,{id:l.contentId,role:"tooltip",children:r||o})})]})})});cn.displayName=we;var ln="TooltipArrow",rr=P.forwardRef((e,t)=>{let{__scopeTooltip:n,...o}=e,r=Ye(n);return nr(ln,n).isInside?null:(0,O.jsx)(He,{...r,...o,ref:t})});rr.displayName=ln;function ar(e,t){let n=Math.abs(t.top-e.y),o=Math.abs(t.bottom-e.y),r=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,o,r,a)){case a:return"left";case r:return"right";case n:return"top";case o:return"bottom";default:throw new Error("unreachable")}}function ir(e,t,n=5){let o=[];switch(t){case"top":o.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":o.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":o.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":o.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return o}function sr(e){let{top:t,right:n,bottom:o,left:r}=e;return[{x:r,y:t},{x:n,y:t},{x:n,y:o},{x:r,y:o}]}function cr(e,t){let{x:n,y:o}=e,r=!1;for(let a=0,u=t.length-1;a<t.length;u=a++){let d=t[a],l=t[u],i=d.x,s=d.y,c=l.x,f=l.y;s>o!=f>o&&n<(c-i)*(o-s)/(f-s)+i&&(r=!r)}return r}function ur(e){let t=e.slice();return t.sort((n,o)=>n.x<o.x?-1:n.x>o.x?1:n.y<o.y?-1:n.y>o.y?1:0),lr(t)}function lr(e){if(e.length<=1)return e.slice();let t=[];for(let o=0;o<e.length;o++){let r=e[o];for(;t.length>=2;){let a=t[t.length-1],u=t[t.length-2];if((a.x-u.x)*(r.y-u.y)>=(a.y-u.y)*(r.x-u.x))t.pop();else break}t.push(r)}t.pop();let n=[];for(let o=e.length-1;o>=0;o--){let r=e[o];for(;n.length>=2;){let a=n[n.length-1],u=n[n.length-2];if((a.x-u.x)*(r.y-u.y)>=(a.y-u.y)*(r.x-u.x))n.pop();else break}n.push(r)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var dn=on,fn=rn,pn=an,mn=sn,lt=cn;var dt=T(Q(),1),ci=dn,ui=fn,li=pn,fr=vn.forwardRef(({className:e,sideOffset:t=4,...n},o)=>(0,dt.jsx)(mn,{children:(0,dt.jsx)(lt,{ref:o,sideOffset:t,className:j("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...n})}));fr.displayName=lt.displayName;var oe=T(W(),1);var A=T(W(),1);var fi=!!(typeof window<"u"&&window.document&&window.document.createElement);function xe(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(e?.(r),n===!1||!r.defaultPrevented)return t?.(r)}}var v=T(W(),1);var mi=!!(typeof window<"u"&&window.document&&window.document.createElement);function b(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(e?.(r),n===!1||!r.defaultPrevented)return t?.(r)}}var S=T(W(),1);var pt=T(Q(),1),pr="DismissableLayer",ft="dismissableLayer.update",mr="dismissableLayer.pointerDownOutside",vr="dismissableLayer.focusOutside",Rn,gn=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),mt=S.forwardRef((e,t)=>{let{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:o,onPointerDownOutside:r,onFocusOutside:a,onInteractOutside:u,onDismiss:d,...l}=e,i=S.useContext(gn),[s,c]=S.useState(null),f=s?.ownerDocument??globalThis?.document,[,p]=S.useState({}),m=_(t,R=>c(R)),w=Array.from(i.layers),[g]=[...i.layersWithOutsidePointerEventsDisabled].slice(-1),M=w.indexOf(g),y=s?w.indexOf(s):-1,C=i.layersWithOutsidePointerEventsDisabled.size>0,D=y>=M,G=gr(R=>{let x=R.target,z=[...i.branches].some(U=>U.contains(x));!D||z||(r?.(R),u?.(R),R.defaultPrevented||d?.())},f),X=hr(R=>{let x=R.target;[...i.branches].some(U=>U.contains(x))||(a?.(R),u?.(R),R.defaultPrevented||d?.())},f);return Be(R=>{y===i.layers.size-1&&(o?.(R),!R.defaultPrevented&&d&&(R.preventDefault(),d()))},f),S.useEffect(()=>{if(s)return n&&(i.layersWithOutsidePointerEventsDisabled.size===0&&(Rn=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),i.layersWithOutsidePointerEventsDisabled.add(s)),i.layers.add(s),wn(),()=>{n&&i.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=Rn)}},[s,f,n,i]),S.useEffect(()=>()=>{s&&(i.layers.delete(s),i.layersWithOutsidePointerEventsDisabled.delete(s),wn())},[s,i]),S.useEffect(()=>{let R=()=>p({});return document.addEventListener(ft,R),()=>document.removeEventListener(ft,R)},[]),(0,pt.jsx)(N.div,{...l,ref:m,style:{pointerEvents:C?D?"auto":"none":void 0,...e.style},onFocusCapture:b(e.onFocusCapture,X.onFocusCapture),onBlurCapture:b(e.onBlurCapture,X.onBlurCapture),onPointerDownCapture:b(e.onPointerDownCapture,G.onPointerDownCapture)})});mt.displayName=pr;var Rr="DismissableLayerBranch",wr=S.forwardRef((e,t)=>{let n=S.useContext(gn),o=S.useRef(null),r=_(t,o);return S.useEffect(()=>{let a=o.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),(0,pt.jsx)(N.div,{...e,ref:r})});wr.displayName=Rr;function gr(e,t=globalThis?.document){let n=Y(e),o=S.useRef(!1),r=S.useRef(()=>{});return S.useEffect(()=>{let a=d=>{if(d.target&&!o.current){let i=function(){hn(mr,n,s,{discrete:!0})};var l=i;let s={originalEvent:d};d.pointerType==="touch"?(t.removeEventListener("click",r.current),r.current=i,t.addEventListener("click",r.current,{once:!0})):i()}else t.removeEventListener("click",r.current);o.current=!1},u=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(u),t.removeEventListener("pointerdown",a),t.removeEventListener("click",r.current)}},[t,n]),{onPointerDownCapture:()=>o.current=!0}}function hr(e,t=globalThis?.document){let n=Y(e),o=S.useRef(!1);return S.useEffect(()=>{let r=a=>{a.target&&!o.current&&hn(vr,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",r),()=>t.removeEventListener("focusin",r)},[t,n]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function wn(){let e=new CustomEvent(ft);document.dispatchEvent(e)}function hn(e,t,n,{discrete:o}){let r=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&r.addEventListener(e,t,{once:!0}),o?pe(r,a):r.dispatchEvent(a)}var H=T(W(),1);var Pn=T(W(),1);function Pr(e,t){return Pn.useReducer((n,o)=>t[n][o]??n,e)}var ge=e=>{let{present:t,children:n}=e,o=Er(t),r=typeof n=="function"?n({present:o.isPresent}):H.Children.only(n),a=_(o.ref,Mr(r));return typeof n=="function"||o.isPresent?H.cloneElement(r,{ref:a}):null};ge.displayName="Presence";function Er(e){let[t,n]=H.useState(),o=H.useRef(null),r=H.useRef(e),a=H.useRef("none"),u=e?"mounted":"unmounted",[d,l]=Pr(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return H.useEffect(()=>{let i=qe(o.current);a.current=d==="mounted"?i:"none"},[d]),me(()=>{let i=o.current,s=r.current;if(s!==e){let f=a.current,p=qe(i);e?l("MOUNT"):p==="none"||i?.display==="none"?l("UNMOUNT"):l(s&&f!==p?"ANIMATION_OUT":"UNMOUNT"),r.current=e}},[e,l]),me(()=>{if(t){let i,s=t.ownerDocument.defaultView??window,c=p=>{let w=qe(o.current).includes(CSS.escape(p.animationName));if(p.target===t&&w&&(l("ANIMATION_END"),!r.current)){let g=t.style.animationFillMode;t.style.animationFillMode="forwards",i=s.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=g)})}},f=p=>{p.target===t&&(a.current=qe(o.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",c),t.addEventListener("animationend",c),()=>{s.clearTimeout(i),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",c),t.removeEventListener("animationend",c)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:H.useCallback(i=>{o.current=i?getComputedStyle(i):null,n(i)},[])}}function qe(e){return e?.animationName||"none"}function Mr(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var F=T(W(),1);var bi=!!(typeof window<"u"&&window.document&&window.document.createElement);function ue(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(e?.(r),n===!1||!r.defaultPrevented)return t?.(r)}}var ae=T(Q(),1),vt="rovingFocusGroup.onEntryFocus",yr={bubbles:!1,cancelable:!0},Te="RovingFocusGroup",[Rt,En,Cr]=Ge(Te),[br,wt]=re(Te,[Cr]),[Dr,xr]=br(Te),Mn=F.forwardRef((e,t)=>(0,ae.jsx)(Rt.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,ae.jsx)(Rt.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,ae.jsx)(Tr,{...e,ref:t})})}));Mn.displayName=Te;var Tr=F.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:n,orientation:o,loop:r=!1,dir:a,currentTabStopId:u,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:l,onEntryFocus:i,preventScrollOnEntryFocus:s=!1,...c}=e,f=F.useRef(null),p=_(t,f),m=Ue(a),[w,g]=Re({prop:u,defaultProp:d??null,onChange:l,caller:Te}),[M,y]=F.useState(!1),C=Y(i),D=En(n),G=F.useRef(!1),[X,R]=F.useState(0);return F.useEffect(()=>{let x=f.current;if(x)return x.addEventListener(vt,C),()=>x.removeEventListener(vt,C)},[C]),(0,ae.jsx)(Dr,{scope:n,orientation:o,dir:m,loop:r,currentTabStopId:w,onItemFocus:F.useCallback(x=>g(x),[g]),onItemShiftTab:F.useCallback(()=>y(!0),[]),onFocusableItemAdd:F.useCallback(()=>R(x=>x+1),[]),onFocusableItemRemove:F.useCallback(()=>R(x=>x-1),[]),children:(0,ae.jsx)(N.div,{tabIndex:M||X===0?-1:0,"data-orientation":o,...c,ref:p,style:{outline:"none",...e.style},onMouseDown:ue(e.onMouseDown,()=>{G.current=!0}),onFocus:ue(e.onFocus,x=>{let z=!G.current;if(x.target===x.currentTarget&&z&&!M){let U=new CustomEvent(vt,yr);if(x.currentTarget.dispatchEvent(U),!U.defaultPrevented){let Pe=D().filter(ne=>ne.focusable),Ee=Pe.find(ne=>ne.active),Le=Pe.find(ne=>ne.id===w),et=[Ee,Le,...Pe].filter(Boolean).map(ne=>ne.ref.current);bn(et,s)}}G.current=!1}),onBlur:ue(e.onBlur,()=>y(!1))})})}),yn="RovingFocusGroupItem",Cn=F.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:n,focusable:o=!0,active:r=!1,tabStopId:a,children:u,...d}=e,l=te(),i=a||l,s=xr(yn,n),c=s.currentTabStopId===i,f=En(n),{onFocusableItemAdd:p,onFocusableItemRemove:m,currentTabStopId:w}=s;return F.useEffect(()=>{if(o)return p(),()=>m()},[o,p,m]),(0,ae.jsx)(Rt.ItemSlot,{scope:n,id:i,focusable:o,active:r,children:(0,ae.jsx)(N.span,{tabIndex:c?0:-1,"data-orientation":s.orientation,...d,ref:t,onMouseDown:ue(e.onMouseDown,g=>{o?s.onItemFocus(i):g.preventDefault()}),onFocus:ue(e.onFocus,()=>s.onItemFocus(i)),onKeyDown:ue(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){s.onItemShiftTab();return}if(g.target!==g.currentTarget)return;let M=_r(g,s.orientation,s.dir);if(M!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let C=f().filter(D=>D.focusable).map(D=>D.ref.current);if(M==="last")C.reverse();else if(M==="prev"||M==="next"){M==="prev"&&C.reverse();let D=C.indexOf(g.currentTarget);C=s.loop?Or(C,D+1):C.slice(D+1)}setTimeout(()=>bn(C))}}),children:typeof u=="function"?u({isCurrentTabStop:c,hasTabStop:w!=null}):u})})});Cn.displayName=yn;var Ir={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Sr(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function _r(e,t,n){let o=Sr(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return Ir[o]}function bn(e,t=!1){let n=document.activeElement;for(let o of e)if(o===n||(o.focus({preventScroll:t}),document.activeElement!==n))return}function Or(e,t){return e.map((n,o)=>e[(t+o)%e.length])}var Dn=Mn,xn=Cn;var h=T(Q(),1),gt=["Enter"," "],Ar=["ArrowDown","PageUp","Home"],In=["ArrowUp","PageDown","End"],Lr=[...Ar,...In],Fr={ltr:[...gt,"ArrowRight"],rtl:[...gt,"ArrowLeft"]},kr={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Oe="Menu",[Se,Gr,Ur]=Ge(Oe),[le,ht]=re(Oe,[Ur,ve,wt]),Ne=ve(),Sn=wt(),[_n,ie]=le(Oe),[Br,Ae]=le(Oe),On=e=>{let{__scopeMenu:t,open:n=!1,children:o,dir:r,onOpenChange:a,modal:u=!0}=e,d=Ne(t),[l,i]=v.useState(null),s=v.useRef(!1),c=Y(a),f=Ue(r);return v.useEffect(()=>{let p=()=>{s.current=!0,document.addEventListener("pointerdown",m,{capture:!0,once:!0}),document.addEventListener("pointermove",m,{capture:!0,once:!0})},m=()=>s.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",m,{capture:!0}),document.removeEventListener("pointermove",m,{capture:!0})}},[]),(0,h.jsx)(Ce,{...d,children:(0,h.jsx)(_n,{scope:t,open:n,onOpenChange:c,content:l,onContentChange:i,children:(0,h.jsx)(Br,{scope:t,onClose:v.useCallback(()=>c(!1),[c]),isUsingKeyboardRef:s,dir:f,modal:u,children:o})})})};On.displayName=Oe;var Wr="MenuAnchor",Pt=v.forwardRef((e,t)=>{let{__scopeMenu:n,...o}=e,r=Ne(n);return(0,h.jsx)(We,{...r,...o,ref:t})});Pt.displayName=Wr;var Et="MenuPortal",[Kr,Nn]=le(Et,{forceMount:void 0}),An=e=>{let{__scopeMenu:t,forceMount:n,children:o,container:r}=e,a=ie(Et,t);return(0,h.jsx)(Kr,{scope:t,forceMount:n,children:(0,h.jsx)(ge,{present:n||a.open,children:(0,h.jsx)(Xe,{asChild:!0,container:r,children:o})})})};An.displayName=Et;var q="MenuContent",[Hr,Mt]=le(q),Ln=v.forwardRef((e,t)=>{let n=Nn(q,e.__scopeMenu),{forceMount:o=n.forceMount,...r}=e,a=ie(q,e.__scopeMenu),u=Ae(q,e.__scopeMenu);return(0,h.jsx)(Se.Provider,{scope:e.__scopeMenu,children:(0,h.jsx)(ge,{present:o||a.open,children:(0,h.jsx)(Se.Slot,{scope:e.__scopeMenu,children:u.modal?(0,h.jsx)(Xr,{...r,ref:t}):(0,h.jsx)(Vr,{...r,ref:t})})})})}),Xr=v.forwardRef((e,t)=>{let n=ie(q,e.__scopeMenu),o=v.useRef(null),r=_(t,o);return v.useEffect(()=>{let a=o.current;if(a)return qt(a)},[]),(0,h.jsx)(yt,{...e,ref:r,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:b(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),Vr=v.forwardRef((e,t)=>{let n=ie(q,e.__scopeMenu);return(0,h.jsx)(yt,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),zr=Xt("MenuContent.ScrollLock"),yt=v.forwardRef((e,t)=>{let{__scopeMenu:n,loop:o=!1,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:u,disableOutsidePointerEvents:d,onEntryFocus:l,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:c,onInteractOutside:f,onDismiss:p,disableOutsideScroll:m,...w}=e,g=ie(q,n),M=Ae(q,n),y=Ne(n),C=Sn(n),D=Gr(n),[G,X]=v.useState(null),R=v.useRef(null),x=_(t,R,g.onContentChange),z=v.useRef(0),U=v.useRef(""),Pe=v.useRef(0),Ee=v.useRef(null),Le=v.useRef("right"),Fe=v.useRef(0),et=m?$t:v.Fragment,ne=m?{as:zr,allowPinchZoom:!0}:void 0,ko=E=>{let fe=U.current+E,se=D().filter(V=>!V.disabled),Me=document.activeElement,tt=se.find(V=>V.ref.current===Me)?.textValue,nt=se.map(V=>V.textValue),Gt=aa(nt,fe,tt),ye=se.find(V=>V.textValue===Gt)?.ref.current;(function V(Ut){U.current=Ut,window.clearTimeout(z.current),Ut!==""&&(z.current=window.setTimeout(()=>V(""),1e3))})(fe),ye&&setTimeout(()=>ye.focus())};v.useEffect(()=>()=>window.clearTimeout(z.current),[]),zt();let de=v.useCallback(E=>Le.current===Ee.current?.side&&sa(E,Ee.current?.area),[]);return(0,h.jsx)(Hr,{scope:n,searchRef:U,onItemEnter:v.useCallback(E=>{de(E)&&E.preventDefault()},[de]),onItemLeave:v.useCallback(E=>{de(E)||(R.current?.focus(),X(null))},[de]),onTriggerLeave:v.useCallback(E=>{de(E)&&E.preventDefault()},[de]),pointerGraceTimerRef:Pe,onPointerGraceIntentChange:v.useCallback(E=>{Ee.current=E},[]),children:(0,h.jsx)(et,{...ne,children:(0,h.jsx)(jt,{asChild:!0,trapped:r,onMountAutoFocus:b(a,E=>{E.preventDefault(),R.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:u,children:(0,h.jsx)(mt,{asChild:!0,disableOutsidePointerEvents:d,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:c,onInteractOutside:f,onDismiss:p,children:(0,h.jsx)(Dn,{asChild:!0,...C,dir:M.dir,orientation:"vertical",loop:o,currentTabStopId:G,onCurrentTabStopIdChange:X,onEntryFocus:b(l,E=>{M.isUsingKeyboardRef.current||E.preventDefault()}),preventScrollOnEntryFocus:!0,children:(0,h.jsx)(Ke,{role:"menu","aria-orientation":"vertical","data-state":Zn(g.open),"data-radix-menu-content":"",dir:M.dir,...y,...w,ref:x,style:{outline:"none",...w.style},onKeyDown:b(w.onKeyDown,E=>{let se=E.target.closest("[data-radix-menu-content]")===E.currentTarget,Me=E.ctrlKey||E.altKey||E.metaKey,tt=E.key.length===1;se&&(E.key==="Tab"&&E.preventDefault(),!Me&&tt&&ko(E.key));let nt=R.current;if(E.target!==nt||!Lr.includes(E.key))return;E.preventDefault();let ye=D().filter(V=>!V.disabled).map(V=>V.ref.current);In.includes(E.key)&&ye.reverse(),oa(ye)}),onBlur:b(e.onBlur,E=>{E.currentTarget.contains(E.target)||(window.clearTimeout(z.current),U.current="")}),onPointerMove:b(e.onPointerMove,_e(E=>{let fe=E.target,se=Fe.current!==E.clientX;if(E.currentTarget.contains(fe)&&se){let Me=E.clientX>Fe.current?"right":"left";Le.current=Me,Fe.current=E.clientX}}))})})})})})})});Ln.displayName=q;var jr="MenuGroup",Ct=v.forwardRef((e,t)=>{let{__scopeMenu:n,...o}=e;return(0,h.jsx)(N.div,{role:"group",...o,ref:t})});Ct.displayName=jr;var Yr="MenuLabel",Fn=v.forwardRef((e,t)=>{let{__scopeMenu:n,...o}=e;return(0,h.jsx)(N.div,{...o,ref:t})});Fn.displayName=Yr;var $e="MenuItem",Tn="menu.itemSelect",Je=v.forwardRef((e,t)=>{let{disabled:n=!1,onSelect:o,...r}=e,a=v.useRef(null),u=Ae($e,e.__scopeMenu),d=Mt($e,e.__scopeMenu),l=_(t,a),i=v.useRef(!1),s=()=>{let c=a.current;if(!n&&c){let f=new CustomEvent(Tn,{bubbles:!0,cancelable:!0});c.addEventListener(Tn,p=>o?.(p),{once:!0}),pe(c,f),f.defaultPrevented?i.current=!1:u.onClose()}};return(0,h.jsx)(kn,{...r,ref:l,disabled:n,onClick:b(e.onClick,s),onPointerDown:c=>{e.onPointerDown?.(c),i.current=!0},onPointerUp:b(e.onPointerUp,c=>{i.current||c.currentTarget?.click()}),onKeyDown:b(e.onKeyDown,c=>{let f=d.searchRef.current!=="";n||f&&c.key===" "||gt.includes(c.key)&&(c.currentTarget.click(),c.preventDefault())})})});Je.displayName=$e;var kn=v.forwardRef((e,t)=>{let{__scopeMenu:n,disabled:o=!1,textValue:r,...a}=e,u=Mt($e,n),d=Sn(n),l=v.useRef(null),i=_(t,l),[s,c]=v.useState(!1),[f,p]=v.useState("");return v.useEffect(()=>{let m=l.current;m&&p((m.textContent??"").trim())},[a.children]),(0,h.jsx)(Se.ItemSlot,{scope:n,disabled:o,textValue:r??f,children:(0,h.jsx)(xn,{asChild:!0,...d,focusable:!o,children:(0,h.jsx)(N.div,{role:"menuitem","data-highlighted":s?"":void 0,"aria-disabled":o||void 0,"data-disabled":o?"":void 0,...a,ref:i,onPointerMove:b(e.onPointerMove,_e(m=>{o?u.onItemLeave(m):(u.onItemEnter(m),m.defaultPrevented||m.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:b(e.onPointerLeave,_e(m=>u.onItemLeave(m))),onFocus:b(e.onFocus,()=>c(!0)),onBlur:b(e.onBlur,()=>c(!1))})})})}),qr="MenuCheckboxItem",Gn=v.forwardRef((e,t)=>{let{checked:n=!1,onCheckedChange:o,...r}=e;return(0,h.jsx)(Hn,{scope:e.__scopeMenu,checked:n,children:(0,h.jsx)(Je,{role:"menuitemcheckbox","aria-checked":Ze(n)?"mixed":n,...r,ref:t,"data-state":xt(n),onSelect:b(r.onSelect,()=>o?.(Ze(n)?!0:!n),{checkForDefaultPrevented:!1})})})});Gn.displayName=qr;var Un="MenuRadioGroup",[$r,Zr]=le(Un,{value:void 0,onValueChange:()=>{}}),Bn=v.forwardRef((e,t)=>{let{value:n,onValueChange:o,...r}=e,a=Y(o);return(0,h.jsx)($r,{scope:e.__scopeMenu,value:n,onValueChange:a,children:(0,h.jsx)(Ct,{...r,ref:t})})});Bn.displayName=Un;var Wn="MenuRadioItem",Kn=v.forwardRef((e,t)=>{let{value:n,...o}=e,r=Zr(Wn,e.__scopeMenu),a=n===r.value;return(0,h.jsx)(Hn,{scope:e.__scopeMenu,checked:a,children:(0,h.jsx)(Je,{role:"menuitemradio","aria-checked":a,...o,ref:t,"data-state":xt(a),onSelect:b(o.onSelect,()=>r.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});Kn.displayName=Wn;var bt="MenuItemIndicator",[Hn,Jr]=le(bt,{checked:!1}),Xn=v.forwardRef((e,t)=>{let{__scopeMenu:n,forceMount:o,...r}=e,a=Jr(bt,n);return(0,h.jsx)(ge,{present:o||Ze(a.checked)||a.checked===!0,children:(0,h.jsx)(N.span,{...r,ref:t,"data-state":xt(a.checked)})})});Xn.displayName=bt;var Qr="MenuSeparator",Vn=v.forwardRef((e,t)=>{let{__scopeMenu:n,...o}=e;return(0,h.jsx)(N.div,{role:"separator","aria-orientation":"horizontal",...o,ref:t})});Vn.displayName=Qr;var ea="MenuArrow",zn=v.forwardRef((e,t)=>{let{__scopeMenu:n,...o}=e,r=Ne(n);return(0,h.jsx)(He,{...r,...o,ref:t})});zn.displayName=ea;var Dt="MenuSub",[ta,jn]=le(Dt),na=e=>{let{__scopeMenu:t,children:n,open:o=!1,onOpenChange:r}=e,a=ie(Dt,t),u=Ne(t),[d,l]=v.useState(null),[i,s]=v.useState(null),c=Y(r);return v.useEffect(()=>(a.open===!1&&c(!1),()=>c(!1)),[a.open,c]),(0,h.jsx)(Ce,{...u,children:(0,h.jsx)(_n,{scope:t,open:o,onOpenChange:c,content:i,onContentChange:s,children:(0,h.jsx)(ta,{scope:t,contentId:te(),triggerId:te(),trigger:d,onTriggerChange:l,children:n})})})};na.displayName=Dt;var Ie="MenuSubTrigger",Yn=v.forwardRef((e,t)=>{let n=ie(Ie,e.__scopeMenu),o=Ae(Ie,e.__scopeMenu),r=jn(Ie,e.__scopeMenu),a=Mt(Ie,e.__scopeMenu),u=v.useRef(null),{pointerGraceTimerRef:d,onPointerGraceIntentChange:l}=a,i={__scopeMenu:e.__scopeMenu},s=v.useCallback(()=>{u.current&&window.clearTimeout(u.current),u.current=null},[]);return v.useEffect(()=>s,[s]),v.useEffect(()=>{let c=d.current;return()=>{window.clearTimeout(c),l(null)}},[d,l]),(0,h.jsx)(Pt,{asChild:!0,...i,children:(0,h.jsx)(kn,{id:r.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":r.contentId,"data-state":Zn(n.open),...e,ref:ke(t,r.onTriggerChange),onClick:c=>{e.onClick?.(c),!(e.disabled||c.defaultPrevented)&&(c.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:b(e.onPointerMove,_e(c=>{a.onItemEnter(c),!c.defaultPrevented&&!e.disabled&&!n.open&&!u.current&&(a.onPointerGraceIntentChange(null),u.current=window.setTimeout(()=>{n.onOpenChange(!0),s()},100))})),onPointerLeave:b(e.onPointerLeave,_e(c=>{s();let f=n.content?.getBoundingClientRect();if(f){let p=n.content?.dataset.side,m=p==="right",w=m?-5:5,g=f[m?"left":"right"],M=f[m?"right":"left"];a.onPointerGraceIntentChange({area:[{x:c.clientX+w,y:c.clientY},{x:g,y:f.top},{x:M,y:f.top},{x:M,y:f.bottom},{x:g,y:f.bottom}],side:p}),window.clearTimeout(d.current),d.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(c),c.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:b(e.onKeyDown,c=>{let f=a.searchRef.current!=="";e.disabled||f&&c.key===" "||Fr[o.dir].includes(c.key)&&(n.onOpenChange(!0),n.content?.focus(),c.preventDefault())})})})});Yn.displayName=Ie;var qn="MenuSubContent",$n=v.forwardRef((e,t)=>{let n=Nn(q,e.__scopeMenu),{forceMount:o=n.forceMount,...r}=e,a=ie(q,e.__scopeMenu),u=Ae(q,e.__scopeMenu),d=jn(qn,e.__scopeMenu),l=v.useRef(null),i=_(t,l);return(0,h.jsx)(Se.Provider,{scope:e.__scopeMenu,children:(0,h.jsx)(ge,{present:o||a.open,children:(0,h.jsx)(Se.Slot,{scope:e.__scopeMenu,children:(0,h.jsx)(yt,{id:d.contentId,"aria-labelledby":d.triggerId,...r,ref:i,align:"start",side:u.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:s=>{u.isUsingKeyboardRef.current&&l.current?.focus(),s.preventDefault()},onCloseAutoFocus:s=>s.preventDefault(),onFocusOutside:b(e.onFocusOutside,s=>{s.target!==d.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:b(e.onEscapeKeyDown,s=>{u.onClose(),s.preventDefault()}),onKeyDown:b(e.onKeyDown,s=>{let c=s.currentTarget.contains(s.target),f=kr[u.dir].includes(s.key);c&&f&&(a.onOpenChange(!1),d.trigger?.focus(),s.preventDefault())})})})})})});$n.displayName=qn;function Zn(e){return e?"open":"closed"}function Ze(e){return e==="indeterminate"}function xt(e){return Ze(e)?"indeterminate":e?"checked":"unchecked"}function oa(e){let t=document.activeElement;for(let n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function ra(e,t){return e.map((n,o)=>e[(t+o)%e.length])}function aa(e,t,n){let r=t.length>1&&Array.from(t).every(i=>i===t[0])?t[0]:t,a=n?e.indexOf(n):-1,u=ra(e,Math.max(a,0));r.length===1&&(u=u.filter(i=>i!==n));let l=u.find(i=>i.toLowerCase().startsWith(r.toLowerCase()));return l!==n?l:void 0}function ia(e,t){let{x:n,y:o}=e,r=!1;for(let a=0,u=t.length-1;a<t.length;u=a++){let d=t[a],l=t[u],i=d.x,s=d.y,c=l.x,f=l.y;s>o!=f>o&&n<(c-i)*(o-s)/(f-s)+i&&(r=!r)}return r}function sa(e,t){if(!t)return!1;let n={x:e.clientX,y:e.clientY};return ia(n,t)}function _e(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Jn=On,Qn=Pt,eo=An,to=Ln,no=Ct,oo=Fn,ro=Je,ao=Gn,io=Bn,so=Kn,co=Xn,uo=Vn,lo=zn;var fo=Yn,po=$n;var k=T(Q(),1),Qe="DropdownMenu",[ua,cs]=re(Qe,[ht]),B=ht(),[la,mo]=ua(Qe),vo=e=>{let{__scopeDropdownMenu:t,children:n,dir:o,open:r,defaultOpen:a,onOpenChange:u,modal:d=!0}=e,l=B(t),i=A.useRef(null),[s,c]=Re({prop:r,defaultProp:a??!1,onChange:u,caller:Qe});return(0,k.jsx)(la,{scope:t,triggerId:te(),triggerRef:i,contentId:te(),open:s,onOpenChange:c,onOpenToggle:A.useCallback(()=>c(f=>!f),[c]),modal:d,children:(0,k.jsx)(Jn,{...l,open:s,onOpenChange:c,dir:o,modal:d,children:n})})};vo.displayName=Qe;var Ro="DropdownMenuTrigger",wo=A.forwardRef((e,t)=>{let{__scopeDropdownMenu:n,disabled:o=!1,...r}=e,a=mo(Ro,n),u=B(n);return(0,k.jsx)(Qn,{asChild:!0,...u,children:(0,k.jsx)(N.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":o?"":void 0,disabled:o,...r,ref:ke(t,a.triggerRef),onPointerDown:xe(e.onPointerDown,d=>{!o&&d.button===0&&d.ctrlKey===!1&&(a.onOpenToggle(),a.open||d.preventDefault())}),onKeyDown:xe(e.onKeyDown,d=>{o||(["Enter"," "].includes(d.key)&&a.onOpenToggle(),d.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(d.key)&&d.preventDefault())})})})});wo.displayName=Ro;var da="DropdownMenuPortal",go=e=>{let{__scopeDropdownMenu:t,...n}=e,o=B(t);return(0,k.jsx)(eo,{...o,...n})};go.displayName=da;var ho="DropdownMenuContent",Po=A.forwardRef((e,t)=>{let{__scopeDropdownMenu:n,...o}=e,r=mo(ho,n),a=B(n),u=A.useRef(!1);return(0,k.jsx)(to,{id:r.contentId,"aria-labelledby":r.triggerId,...a,...o,ref:t,onCloseAutoFocus:xe(e.onCloseAutoFocus,d=>{u.current||r.triggerRef.current?.focus(),u.current=!1,d.preventDefault()}),onInteractOutside:xe(e.onInteractOutside,d=>{let l=d.detail.originalEvent,i=l.button===0&&l.ctrlKey===!0,s=l.button===2||i;(!r.modal||s)&&(u.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Po.displayName=ho;var fa="DropdownMenuGroup",pa=A.forwardRef((e,t)=>{let{__scopeDropdownMenu:n,...o}=e,r=B(n);return(0,k.jsx)(no,{...r,...o,ref:t})});pa.displayName=fa;var ma="DropdownMenuLabel",Eo=A.forwardRef((e,t)=>{let{__scopeDropdownMenu:n,...o}=e,r=B(n);return(0,k.jsx)(oo,{...r,...o,ref:t})});Eo.displayName=ma;var va="DropdownMenuItem",Mo=A.forwardRef((e,t)=>{let{__scopeDropdownMenu:n,...o}=e,r=B(n);return(0,k.jsx)(ro,{...r,...o,ref:t})});Mo.displayName=va;var Ra="DropdownMenuCheckboxItem",yo=A.forwardRef((e,t)=>{let{__scopeDropdownMenu:n,...o}=e,r=B(n);return(0,k.jsx)(ao,{...r,...o,ref:t})});yo.displayName=Ra;var wa="DropdownMenuRadioGroup",ga=A.forwardRef((e,t)=>{let{__scopeDropdownMenu:n,...o}=e,r=B(n);return(0,k.jsx)(io,{...r,...o,ref:t})});ga.displayName=wa;var ha="DropdownMenuRadioItem",Co=A.forwardRef((e,t)=>{let{__scopeDropdownMenu:n,...o}=e,r=B(n);return(0,k.jsx)(so,{...r,...o,ref:t})});Co.displayName=ha;var Pa="DropdownMenuItemIndicator",bo=A.forwardRef((e,t)=>{let{__scopeDropdownMenu:n,...o}=e,r=B(n);return(0,k.jsx)(co,{...r,...o,ref:t})});bo.displayName=Pa;var Ea="DropdownMenuSeparator",Do=A.forwardRef((e,t)=>{let{__scopeDropdownMenu:n,...o}=e,r=B(n);return(0,k.jsx)(uo,{...r,...o,ref:t})});Do.displayName=Ea;var Ma="DropdownMenuArrow",ya=A.forwardRef((e,t)=>{let{__scopeDropdownMenu:n,...o}=e,r=B(n);return(0,k.jsx)(lo,{...r,...o,ref:t})});ya.displayName=Ma;var Ca="DropdownMenuSubTrigger",xo=A.forwardRef((e,t)=>{let{__scopeDropdownMenu:n,...o}=e,r=B(n);return(0,k.jsx)(fo,{...r,...o,ref:t})});xo.displayName=Ca;var ba="DropdownMenuSubContent",To=A.forwardRef((e,t)=>{let{__scopeDropdownMenu:n,...o}=e,r=B(n);return(0,k.jsx)(po,{...r,...o,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});To.displayName=ba;var Io=vo,So=wo,_o=go,Tt=Po;var It=Eo,St=Mo,_t=yo;var Ot=Co,Nt=bo,At=Do;var Lt=xo,Ft=To;var L=T(Q(),1),ms=Io,vs=So;var xa=oe.forwardRef(({className:e,inset:t,children:n,...o},r)=>(0,L.jsxs)(Lt,{ref:r,className:j("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...o,children:[n,(0,L.jsx)(Kt,{className:"ml-auto"})]}));xa.displayName=Lt.displayName;var Ta=oe.forwardRef(({className:e,...t},n)=>(0,L.jsx)(Ft,{ref:n,className:j("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t}));Ta.displayName=Ft.displayName;var Ia=oe.forwardRef(({className:e,sideOffset:t=4,...n},o)=>(0,L.jsx)(_o,{children:(0,L.jsx)(Tt,{ref:o,sideOffset:t,className:j("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...n})}));Ia.displayName=Tt.displayName;var Sa=oe.forwardRef(({className:e,inset:t,...n},o)=>(0,L.jsx)(St,{ref:o,className:j("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",t&&"pl-8",e),...n}));Sa.displayName=St.displayName;var _a=oe.forwardRef(({className:e,children:t,checked:n,...o},r)=>(0,L.jsxs)(_t,{ref:r,className:j("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...o,children:[(0,L.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,L.jsx)(Nt,{children:(0,L.jsx)(Wt,{className:"h-4 w-4"})})}),t]}));_a.displayName=_t.displayName;var Oa=oe.forwardRef(({className:e,children:t,...n},o)=>(0,L.jsxs)(Ot,{ref:o,className:j("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[(0,L.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,L.jsx)(Nt,{children:(0,L.jsx)(Ht,{className:"h-2 w-2 fill-current"})})}),t]}));Oa.displayName=Ot.displayName;var Na=oe.forwardRef(({className:e,inset:t,...n},o)=>(0,L.jsx)(It,{ref:o,className:j("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));Na.displayName=It.displayName;var Aa=oe.forwardRef(({className:e,...t},n)=>(0,L.jsx)(At,{ref:n,className:j("-mx-1 my-1 h-px bg-muted",e),...t}));Aa.displayName=At.displayName;var La=({className:e,...t})=>(0,L.jsx)("span",{className:j("ml-auto text-xs tracking-widest opacity-60",e),...t});La.displayName="DropdownMenuShortcut";var kt=T(W(),1);var Oo={BASE_XP:100,INCREMENT:50,COINS_PER_LEVEL:50};function No(e){return Oo.BASE_XP+(e-1)*Oo.INCREMENT}function Ao(e){let t=1,n=e,o=No(t);for(;n>=o;)n-=o,t++,o=No(t);return{currentLevel:t,currentXP:n,totalXP:e,xpForNextLevel:o,progressPercent:Math.min(100,n/o*100)}}var Fa=[{name:"Novice",minXp:0,color:"text-gray-500"},{name:"Bronze",minXp:500,color:"text-orange-600"},{name:"Silver",minXp:2e3,color:"text-slate-400"},{name:"Gold",minXp:5e3,color:"text-yellow-500"},{name:"Platinum",minXp:1e4,color:"text-cyan-400"},{name:"Diamond",minXp:25e3,color:"text-indigo-400"}];function Lo(e){let t=[...Fa].reverse().find(n=>e>=n.minXp);return t?t.name:"Novice"}async function hs(e){try{let{count:t,error:n}=await ee.from("users").select("*",{count:"exact",head:!0}).gt("trophies",e);if(n)throw n;return(t||0)+1}catch(t){return console.error("Error fetching rank:",t),0}}function bs(){let{user:e,updateProfile:t}=Bt(),[n,o]=(0,kt.useState)(!1),[r,a]=(0,kt.useState)({isOpen:!1,newLevel:1,rewards:[]});return{grantXP:async d=>{if(!e||n)return;o(!0);let l=e.xp||0,i=e.level||1,s=e.league||"Novice",c=l+d,{currentLevel:f}=Ao(c),p=Lo(c),m={xp:c,level:f,activeDates:Array.from(new Set([...e.activeDates||[],new Date().toISOString().split("T")[0]]))};if(p!==s&&(m.league=p,ce.success(`Promoted to ${p} League! \u{1F3C6}`)),f>i){let w=[{type:"coin",label:"100 Coins"},{type:"unlock",label:"Streak Freeze"}];m.coins=(e.coins||0)+100,m.streakFreezes=(e.streakFreezes||0)+1,a({isOpen:!0,newLevel:f,rewards:w})}else ce.success(`+${d} XP`);await t(m),o(!1)},levelUpModal:{...r,close:()=>a(d=>({...d,isOpen:!1}))},isProcessing:n}}var J=T(W(),1);var Z=5,he=20*60*1e3,Fo=250;function Is(e){let[t,n]=(0,J.useState)(e?.hearts??Z),[o,r]=(0,J.useState)(!1),[a,u]=(0,J.useState)(null),[d,l]=(0,J.useState)("");(0,J.useEffect)(()=>{if(!e)return;(async()=>{let{data:f}=await ee.from("users").select("hearts, last_heart_regen").eq("id",e.uid).single();if(!f)return;let p=f.hearts;p===0&&r(!0);let m=new Date(f.last_heart_regen).getTime(),w=Date.now();if(p<Z){let g=w-m,M=Math.floor(g/he);if(M>0){let y=Math.min(Z,p+M),C=g%he,D=new Date(w-C).toISOString();await ee.from("users").update({hearts:y,last_heart_regen:D}).eq("id",e.uid),n(y),y>0&&r(!1),y<Z?u(w+(he-C)):u(null)}else n(p),u(m+he)}else n(Z),u(null)})()},[e?.uid]),(0,J.useEffect)(()=>{if(t>=Z){l("");return}let c=setInterval(()=>{if(!a)return;let f=Date.now(),p=a-f;if(p<=0)n(m=>{let w=Math.min(Z,m+1);return w>0&&r(!1),w<Z?(u(Date.now()+he),ee.from("users").update({hearts:w,last_heart_regen:new Date().toISOString()}).eq("id",e?.uid).then()):(ee.from("users").update({hearts:w}).eq("id",e?.uid).then(),u(null)),w});else{let m=Math.floor(p/6e4),w=Math.floor(p%6e4/1e3);l(`${m}:${w.toString().padStart(2,"0")}`)}},1e3);return()=>clearInterval(c)},[t,a,e?.uid]);let i=(0,J.useCallback)(async()=>{if(!e)return!1;let c=!1;return n(f=>{if(f>0){let p=f-1;if(f===Z){let m=new Date().toISOString();u(Date.now()+he),ee.from("users").update({hearts:p,last_heart_regen:m}).eq("id",e.uid).then()}else ee.from("users").update({hearts:p}).eq("id",e.uid).then();return p===0&&(c=!0,r(!0)),p}return 0}),c},[e]),s=(0,J.useCallback)(async()=>{if(e)if(e.coins&&e.coins>=Fo){let c=e.coins-Fo;n(Z),r(!1),u(null);let{error:f}=await ee.from("users").update({hearts:Z,coins:c}).eq("id",e.uid);f?ce.error("Purchase failed."):ce.success("Hearts Refilled! \u2764\uFE0F")}else ce.error("Not enough coins!")},[e]);return{hearts:t,timeRemaining:d,loseHeart:i,buyHearts:s,isGameOver:o,setIsGameOver:r}}export{ci as a,ui as b,li as c,fr as d,wt as e,Dn as f,xn as g,ms as h,vs as i,Ia as j,Sa as k,Na as l,Aa as m,Ao as n,Lo as o,hs as p,bs as q,Z as r,Fo as s,Is as t};
